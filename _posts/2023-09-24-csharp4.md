---
title: "Ch 04. μΈν„°νμ΄μ¤(interface)"
excerpt: "μΈν„°νμ΄μ¤μ κ°λ…μ— λ€ν•΄ μμ‹λ¥Ό ν†µν•΄ μ΄ν•΄ν•΄λ³΄μ!π£"
categories: 
  - csharp
tags:
  - [csharp, interface]
date: 2023-09-24
toc: true
toc_sticky: true
lastmode: 2023-09-24 10:00:00
sitemap:
  changefreq: weekly
  priority : 0.5
---
## 1. μΈν„°νμ΄μ¤μ κ°λ…
**μΈν„°νμ΄μ¤**λ” ν΄λμ¤μ™€ κ΄€λ ¨λ κ³„μ•½μ„ μ •μν•λ”λ° μ‚¬μ©λλ” ν‚¤μ›λ“μ…λ‹λ‹¤. μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤λ” ν•΄λ‹Ή μΈν„°νμ΄μ¤μ— μ •μλ
**λ¨λ“  λ©¤λ²„λ¥Ό κµ¬ν„**ν•΄μ•Ό ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ λ‹¤ν•μ„±μ„ μ§€μ›ν•κ³ , μ½”λ“ μ¬μ‚¬μ©μ„±κ³Ό μ μ—°μ„±μ„ λ†’μΌ μ μμµλ‹λ‹¤.

λ¨Όμ € μΈν„°νμ΄μ¤λ¥Ό μ–΄λ–»κ² κµ¬ν„ν•λ”μ§€ μμ‹λ¥Ό ν†µν•μ—¬ μ•μ•„λ΄…μ‹λ‹¤.

```csharp
// IShape μΈν„°νμ΄μ¤ μ •μ
public interface IShape
{
    double CalculateArea(); // λ©΄μ  κ³„μ‚° λ©”μ„λ“ μ„ μ–Έ
    void Display(); // μ¶λ ¥ λ©”μ„λ“ μ„ μ–Έ
}

// Circle ν΄λμ¤κ°€ IShape μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•¨
public class Circle : IShape
{
    private double radius;

    public Circle(double radius)
    {
        this.radius = radius;
    }

    public double CalculateArea()
    {
        return Math.PI * radius * radius;
    }

    public void Display()
    {
        Console.WriteLine($"Circle with radius {radius}");
        Console.WriteLine($"Area: {CalculateArea()}");
    }
}

// Rectangle ν΄λμ¤κ°€ IShape μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•¨
public class Rectangle : IShape
{
    private double width;
    private double height;

    public Rectangle(double width, double height)
    {
        this.width = width;
        this.height = height;
    }

   public double CalculateArea()
   {
       return width * height;
   }

   public void Display()
   {
       Console.WriteLine($"Rectangle with width {width} and height {height}");
       Console.WriteLine($"Area: {CalculateArea()}");
   }
}

class Program 
{
     static void Main(string[] args)
     {
         // Circle κ°μ²΄ μƒμ„± λ° μ¶λ ¥
         Circle circle = new Circle(5);
         circle.Display();

         // Rectangle κ°μ²΄ μƒμ„± λ° μ¶λ ¥ 
         Rectangle rectangle = new Rectangle(4, 6);
         rectangle.Display();
     }
}
```
  
> IShape μΈν„°νμ΄μ¤λ” CalculateArea()μ™€ Display()λΌλ” λ‘ κ°€μ§€ λ©¤λ²„ λ©”μ„λ“λ¥Ό μ„ μ–Έν•©λ‹λ‹¤. **Circle**κ³Ό **Rectangle**ν΄λμ¤λ” μ΄λ¬ν• λ©¤λ²„ λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ—¬ ν•΄λ‹Ή κ³„μ•½μ„ μ¶©μ΅±μ‹μΌμ•Ό ν•©λ‹λ‹¤.  
> μΈν„°νμ΄μ¤λ” λ‹¤λ¥Έ ν΄λμ¤λ“¤μ΄ κ³µμ ν•  μ μλ” μΌμΆ…μ κ³„μ•½μ΄λ―€λ΅, λ‹¤λ¥Έ ν•μ‹λ“¤ μ‚¬μ΄μ— κ³µμ  κ°€λ¥ν• λ™μ‘μ„ μ •μν•κΈ° μ„ν•΄ μμ£Ό μ‚¬μ©λ©λ‹λ‹¤.  
  
## 2. μΈν„°νμ΄μ¤ μΈμ¤ν„΄μ¤ νλΌλ―Έν„°λ΅ λ°›κΈ°  
μΈν„°νμ΄μ¤ν•μ μΈμ¤ν„΄μ¤λ¥Ό νλΌλ―Έν„°λ΅ λ°›λ” κ²½μ°, λ‹¤μ–‘ν• ν΄λμ¤λ“¤μ΄ λ™μΌν• μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ―€λ΅ **μ μ—°μ„±**κ³Ό **ν™•μ¥μ„±**μ„ λ†’μΌ μ μμµλ‹λ‹¤.
  
μμ‹λ” μ•„λμ™€ κ°™μµλ‹λ‹¤!  
  
```csharp
// IPlayable μΈν„°νμ΄μ¤ μ •μ
public interface IPlayable
{
    void Play();
}

// AudioPlayer ν΄λμ¤κ°€ IPlayable μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•¨
public class AudioPlayer : IPlayable
{
    public void Play()
    {
        Console.WriteLine("Playing audio");
    }
}

// VideoPlayer ν΄λμ¤κ°€ IPlayable μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•¨
public class VideoPlayer : IPlayable
{
    public void Play()
    {
        Console.WriteLine("Playing video");
    }
}

// MediaPlayer ν΄λμ¤μ—μ„ IPlayable ν•μ‹μ„ νλΌλ―Έν„°λ΅ λ°›λ” λ©”μ„λ“ μ •μ
public class MediaPlayer
{
    public void StartPlayback(IPlayable playable)
    {
        playable.Play();
    }
}

class Program 
{
     static void Main(string[] args)
     {
         AudioPlayer audioPlayer = new AudioPlayer();
         VideoPlayer videoPlayer = new VideoPlayer();

         MediaPlayer mediaPlayer = new MediaPlayer();

         // StartPlayback λ©”μ„λ“μ— λ‹¤μ–‘ν• ν•νƒμ κ°μ²΄ μ „λ‹¬ κ°€λ¥ (λ‹¤ν•μ„±)
         mediaPlayer.StartPlayback(audioPlayer); // "Playing audio" μ¶λ ¥
         mediaPlayer.StartPlayback(videoPlayer); // "Playing video" μ¶λ ¥
     }
}
```
  
μ„ μμ‹μ—μ„ **IPlayable μΈν„°νμ΄μ¤**λ” Play() λ©”μ„λ“λ§μ„ μ„ μ–Έν•©λ‹λ‹¤.  
  
**AudioPlayer**μ™€ **VideoPlayer**ν΄λμ¤λ” μ΄ μΈν„°νμ΄μ¤λ¥Ό κ°κ° κµ¬ν„ν•κ³ , Play() λ©”μ„λ“λ¥Ό μ¬μ •μν•©λ‹λ‹¤.  
**MediaPlayer** ν΄λμ¤μ—λ” StartPlayback() λ©”μ„λ“κ°€ μμΌλ©°, μ΄ λ©”μ„λ“λ” IPlayable ν•μ‹μ„ νλΌλ―Έν„°λ΅ λ°›μµλ‹λ‹¤. μ „λ‹¬λ κ°μ²΄μ— λ€ν•΄ λ™μΌν• λ°©μ‹μΌλ΅ μ¬μƒ μ‘μ—…μ΄ μν–‰λ©λ‹λ‹¤.  
  
λ”°λΌμ„, **MediaPlayer κ°μ²΄**λ¥Ό μ‚¬μ©ν•μ—¬ λ‹¤λ¥Έ νƒ€μ…μ ν”λ μ΄μ–΄(AudioPlayer, VideoPLayer)λ“¤μ„ μΌκ΄€λκ² μ²λ¦¬ν•  μ μμµλ‹λ‹¤. μ΄λ ‡κ² ν•¨μΌλ΅μ¨ μ½”λ“ μ¤‘λ³µμ„ μ¤„μ΄κ³  μ μ§€ λ³΄μμ„±κ³Ό ν™•μ¥μ„±μ„ κ°μ„ ν•  μ μμµλ‹λ‹¤.  
  
  
---
  
  
**μ„λΉ„μ¤ μ κ³µμ ν¨ν„΄(Service Provider Pattern)**: μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬ νΉμ • κΈ°λ¥μ„ μ κ³µν•λ” μ„λΉ„μ¤λ¥Ό μ •μν•κ³ , μ΄λ¥Ό κµ¬ν„ν• μ—¬λ¬ ν΄λμ¤λ“¤μ„ λ™μ μΌλ΅ κµμ²΄ν•κ±°λ‚ μ„ νƒν•  μ μμµλ‹λ‹¤. μ΄λ” μ μ—°μ„±κ³Ό ν™•μ¥μ„±μ„ λ†’μ΄λ” λ° λ„μ›€μ΄ λ©λ‹λ‹¤.  
  
```csharp
// ILogger μΈν„°νμ΄μ¤ μ •μ
public interface ILogger
{
    void Log(string message);
}

// FileLogger ν΄λμ¤κ°€ ILogger μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•¨
public class FileLogger : ILogger
{
    public void Log(string message)
    {
        // νμΌμ— λ΅κ·Έ κΈ°λ΅
    }
}

// DatabaseLogger ν΄λμ¤κ°€ ILogger μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•¨
public class DatabaseLogger : ILogger
{
    public void Log(string message)
    {
        // λ°μ΄ν„°λ² μ΄μ¤μ— λ΅κ·Έ κΈ°λ΅
    }
}

// LogManager ν΄λμ¤μ—μ„ ILogger ν•μ‹μ„ μ‚¬μ©ν•μ—¬ λ΅κΉ… μ‘μ—… μν–‰
public class LogManager
{
    private readonly ILogger logger;

    public LogManager(ILogger logger)
    {
        this.logger = logger;
    }

    public void DoSomething()
    {
        // μ‘μ—… μν–‰

        logger.Log("Something happened"); // λ΅κ·Έ μ‘μ„±

        // μ¶”κ°€ μ‘μ—… μν–‰
   }
}

class Program 
{
     static void Main(string[] args)
     {
         FileLogger fileLogger = new FileLogger();
         DatabaseLogger databaseLogger = new DatabaseLogger();

         LogManager logManager1 = new LogManager(fileLogger);
         logManager1.DoSomething(); // νμΌμ— λ΅κ·Έ κΈ°λ΅

         LogManager logManager2 = new LogManager(databaseLogger);
         logManager2.DoSomething(); // λ°μ΄ν„°λ² μ΄μ¤μ— λ΅κ·Έ κΈ°λ΅ 
     }
}
```
μ„ μμ‹μ—μ„ ILogger μΈν„°νμ΄μ¤λ” Log() λ©”μ„λ“λ¥Ό μ„ μ–Έν•©λ‹λ‹¤.   
  
FileLoggerμ™€ DatabaseLogger ν΄λμ¤λ” μ΄ μΈν„°νμ΄μ¤λ¥Ό κ°κ° κµ¬ν„ν•κ³ , Log() λ©”μ„λ“λ¥Ό μ¬μ •μν•μ—¬ νμΌ λλ” λ°μ΄ν„°λ² μ΄μ¤μ— λ΅κ·Έλ¥Ό κΈ°λ΅ν•©λ‹λ‹¤.  
  
LogManager ν΄λμ¤λ” μƒμ„±μλ΅ ILogger ν•μ‹μ κ°μ²΄(μ—¬κΈ°μ„λ” Filelogger λλ” Databaselogger)λ¥Ό λ°›μ•„ ν•΄λ‹Ή κ°μ²΄λ΅λ¶€ν„° μƒν™©μ— λ§κ² λ΅κΉ… μ‘μ—…μ„ μν–‰ν•©λ‹λ‹¤.   
  
μ΄λ ‡κ² ν•¨μΌλ΅μ¨ λ‹¤λ¥Έ μΆ…λ¥μ λ΅κΉ… μ‹λ‚λ¦¬μ¤μ— λ€ν•΄ μ μ—°ν•κ² λ€μ‘ν•  μ μμµλ‹λ‹¤.  
